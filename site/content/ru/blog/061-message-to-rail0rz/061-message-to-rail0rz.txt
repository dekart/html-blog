  <p>Уважаемые rail0rz!</p>

<p>При разработке проектов старайтесь как можно реже использовать сырые SQL-запросы. Вместо этого лучше все делайте через :conditions, :include, :order и прочие опции для метода find. Даже если будет работать чуть-чуть медленнее - все равно избегайте сырого SQL. Лучше закэшировать результат, чем лезть в кишки и оптимизировать якобы &#8220;медленные&#8221; запросы.</p>

<p>Я вот только что потратил <strong>4&nbsp;часа</strong> на рефакторинг <strong>одного</strong> метода, который использовал сырые SQL-запросы, чтобы переделать выборку по связке one-to-many на polymorphic many-to-many. <strong>4&nbsp;часа!</strong> Просто на то, чтобы разобраться как работает это чудо-юдо с вложенными Select count(*), сортировками по полям непонятно каких таблиц, группировкой по другим полям других таблиц иразбивкой по страницам с помощью плагина.</p>

<p>Так что прежде чем писать &#8220;оптимизированный&#8221; код, подумайте, чью задницу вы поставляете с рефакторингом. Я уж не говорю даже про тестирование.</p>

